<!-- Placeholder #main -->
<!-- Prevents Uncaught TypeErrors: Cannot read property 'append' of null error -->
<div id="modifyTodosUI"></div>
<div id="main"></div>
<script src="simpletest.js"></script>
<script src="../scripts.js"></script>
<script>

  // Destructure variables so they are easier to access:
  var todoList = nestedTodos.todoList
  var add = todoList.add;
  var util = nestedTodos.util;
  var getToModify = util.getToModify;
  var getIndices = util.getIndices;

  // util.getToModify() is only intended for internal use:
  tests({
    // When the function that calls getToModify() has not been called recursively:
    "1) If isRecursive === undefined, it should return todoList.todos.": function(){
      var todos = getToModify();
      eq(todoList.todos, todos);
    },
    // When the function that calls getToModify() has been called recursively:
    "2) If isRecursive === true, it should return thisArg.todos.": function(){
      var mockTodo = {
        todos: ['Mock nested todo']
      };
      var todos = getToModify(true, mockTodo);

      eq(todos.length, 1);
      eq(todos[0], 'Mock nested todo');
    },

    // ---------------------------------------

    /*

    getIndices() requirements:

    // Proper use of input
    1.  If getIndices('[]'), indices should be an array.
    2.  If getIndices('[]'), indices.length should be 0.
    3.  If getIndices('[0]'), indices[0] should be 0.
    4.  If getIndices('[1]'), indices[0] should be 1.
    5.  If getIndices('[0,0]'), indices[1] should be 0.
    6.  If getIndices('[0,0,0]'), indices[2] should be 0.
    7.  If getIndices(' [0,0,0] '), indices[2] should be 0.

    // Improper use of input
    8.  If getIndices(''), it should throw an error with the message 'Indices array has not been properly formatted'.
    9.  If getIndices('['), it should throw an error with the message 'Indices array has not been properly formatted'.
    10. If getIndices(']'), it should throw an error with the message 'Indices array has not been properly formatted'.
    11. If getIndices(']['), it should throw an error with the message 'Indices array has not been properly formatted'.

    */

    // Phase 2: getIndices()
    // If indicesValue === '[]'
    // It should return an array:
    "3) If getIndices('[]'), indices should be an array.": function(){
      var indices = getIndices('[]');

      eq(Array.isArray(indices), true);
    },
    // The array that is returned should be empty:
    "4) If getIndices('[]'), indices.length should be 0.": function(){
      var indices = getIndices('[]');

      eq(indices.length, 0);
    },
    // Add first index to array:
    "5) If getIndices('[0]'), indices[0] should be 0.": function(){
      var indices = getIndices('[0]');

      eq(indices[0], 0);
    },
    // Change value of first index in array:
    "6) If getIndices('[1]'), indices[0] should be 1.": function(){
      var indices = getIndices('[1]');

      eq(indices[0], 1);
    }
  });

</script>